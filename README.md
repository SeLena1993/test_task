Тестовое задание frontend. 
Необходимо разработать SPA, выполняющее следующие функции:
Вход с использованием логина и пароля.
Подписка и отображение событий с WebSocket сервера.

Пример https://work.vint-x.net Логин и пароль: test/test
Примечание: данный пример - не эталонный проект, а демонстрация работы сервера.  
Описание страниц
Приложение состоит из двух страниц: страница входа и страница данных.
Страница входа
На странице входа располагаются поля ввода логина и пароля. В случае успешного входа отобразить следующую страницу, если же сервер вернет ошибку, вывести ее (поле “description”).

Для входа используется следующий ендпоинт:

URL: https://work.vint-x.net/api/login
Method: Post
Body: {“username”: “test”, “password”: ”test”}

В случае успеха возвращает следующий ответ:
Header: x-test-app-jwt-token  - это поле содержит JWT, который необходимо прикрепить к следующим запросам
Body: {“status”: “OK”}

В случае ошибки возвращается  HTTP код этой ошибки и описание в Body:
{“code”: “”, “description”: “”}
	
Варианты ошибок:
400 BadRequest - выдается в случае неверных данных
401 Unauthorized - выдается в случае, если логин и пароль не подходят
500 InternalServerError - внутренняя ошибка сервера


Страница данных
После успешного входа пользователь попадает на страницу данных. На этой странице отображается статус соединения с WS сервером (Connected/Disconnected) и значение текущего времени сервера (в формате dd.MM.yy HH:mm:ss), получаемого по WS. Приложение обращается к серверу с использованием токена и получает ссылку с OTP на WebSocket сервер. Далее по этой ссылке подключается к WS серверу и получает текущее время сервера с периодичностью 2 раза в секунду. В случае обрыва соединения (сервер периодически будет рвать соединение) необходимо заново получить новую ссылку на WS сервер и подключиться повторно. 

Описание ендпоинтов:
URL: https://work.vint-x.net/api/subscribe 
Method: Get
Header: x-test-app-jwt-token - токен, который мы получаем после входа

В случае успеха возвращает следующий ответ:
{“url”: “wss://servername/websocket/{{otp}}”}

Варианты ошибок:
400 BadRequest - выдается в случае отсутствия токена
401 Unauthorized - выдается в случае, если токен протух или не валидный
500 InternalServerError - внутренняя ошибка сервера


Описание WebSocket сервера:
URL: выдает сервер после обращения к эндпоинту выше
Формат сообщений: {“server_time”: unix_time} 

Периодически сервер будет разрывать соединение как корректно, так и резко, без предупреждения. Нужно корректно отлавливать разрывы соединения и переподключаться.  

При подключении в WS серверу возможные ошибки:
401 Unauthorized - выдается в случае, если OTP использовался ранее/протух или не валидный, в этом случае кидаем пользователя на страницу входа
404 NotFound - выдается в случае ошибки в адресе
500 InternalServerError - внутренняя ошибка сервера

Дополнительно
Плюсом будет, если:
при попытке входа, если будет возвращена ошибка, не связанная с проблемой доступа (отличная от 400/401), сделать три попытки, прежде, чем выдать сообщение об ошибке. Примечание: сервер нарочно, примерно с 30% вероятностью генерирует ошибку (500 FakeError);
уделить внимание внешнему виду приложения (UI/UX);
стараться писать код приближенный к “боевому”, чтобы можно было оценить подходы;
в случае рефреша страницы, если ранее пользователь уже вошел, окна входа не будет, а сразу будет отображаться страница с данными. На странице данных воткнуть кнопку выхода;
приложение будет стабильно работать во всех современных браузерах (Edge/Chrome/Firefox/Safari), в т.ч. и на смартфонах (width>=320px);
следить, чтобы после сборки не было лишнего мусора.
Список сокращений
SPA - single page application
JWT - JSON Web Token
WS - WebSocket
OTP - one-time password
UX - user experience
UI - user interface


